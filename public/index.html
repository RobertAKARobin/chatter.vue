<!DOCTYPE html>
<html>
	<head>
		<title>Chatter.vue</title>
		<script src="./vendor/vue/dist/vue.js"></script>
		<script src="./vendor/vuefire/dist/vuefire.js"></script>
		<script src="./vendor/vue-router/dist/vue-router.js"></script>
		<script src="./vendor/firebase/firebase.js"></script>
		<script src="./js/app.js"></script>
		<link rel="stylesheet" href="./css/style.css" />
	</head>
	<body>
		<div id="app">
			<h1>
				<router-link :to="{name: 'convoHeaderList'}">
					Hello, world
				</router-link>
			</h1>

			<div class="wrap">
				<router-view></router-view>
				<fb-console></fb-console>
			</div>
		</div>

		<template id="convoHeaderList">
			<div class="postlist">
				<ul>
					<li>
						<div class="output">
							<input v-model="newConvoHeader.title" />
						</div>
						<div class="controls">
							<p class="error">{{error}}</p>
							<a @click="create()">Add</a>
						</div>
					</li>
					<li v-for="convoHeader in all">
						<h3>
							<router-link :to="{name: 'convoShow', params: {id: convoHeader['.key']}}">{{convoHeader.title}}</router-link>
							({{convoHeader.count || 0}})
						</h3>
					</li>
				</ul>
			</div>
		</template>

		<template id="convo">
			<div>
				<div v-if="header.title">
					<h3>{{header.title}}  ({{header.count || 0}})</h3>
					<div class="controls">
						<a @click="destroy()">Delete</a>
					</div>
					<ul>
						<li v-for="post in all">
							{{post.content}}
						</li>
						<li>
							<input v-model="newPost.content" @keydown.enter="createPost()" />
						</li>
					</ul>
				</div>
				<div v-else>
					<h2>This doesn't exist.</h2>
				</div>
			</div>
		</template>

		<template id="fbConsole">
			<div class="console">
				<textarea disabled>{{all}}</textarea>
			</div>
		</template>

	</body>
</html>
