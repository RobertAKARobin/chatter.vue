<!DOCTYPE html>
<html>
	<head>
		<title>Chatter.vue</title>
		<script src="./vendor/vue/dist/vue.js"></script>
		<script src="./vendor/vuefire/dist/vuefire.min.js"></script>
		<script src="./vendor/firebase/firebase.js"></script>
		<script src="./js/app.js"></script>
		<link rel="stylesheet" href="./css/style.css" />
	</head>
	<body>
		<h1>Hello, world</h1>

		<div class="wrap">
			<div id="convoheaders" class="postlist">
				<ul>
					<li>
						<div class="output">
							<input v-model="newConvoHeader.title" />
						</div>
						<div class="controls">
							<a @click="create()">Add</a>
						</div>
					</li>
					<li v-for="convoHeader in all">
						<h3 class="output" @click="show(convoHeader)">{{convoHeader.title}}</h3>
						<div class="controls">
							<a @click="destroy(convoHeader)">Delete</a>
						</div>
						<convo v-if="convoHeader.isShown" :convo-header-key="convoHeader['.key']"></convo>
					</li>
				</ul>
			</div>

			<div id="console" class="console">
				<pre>{{all}}</pre>
			</div>
		</div>

		<template id="convo">
			<div>
				<ul>
					<li v-for="post in all">
						{{post.content}}
					</li>
					<li>
						<input
							v-model="newPost.content" @keydown.enter="createPost()"
						/>
					</li>
				</ul>
			</div>
		</template>
	</body>
</html>
