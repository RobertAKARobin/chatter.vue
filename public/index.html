<!DOCTYPE html>
<html>
	<head>
		<title>Chatter.vue</title>
		<script src="./vendor/vue/dist/vue.js"></script>
		<script src="./vendor/vuefire/dist/vuefire.min.js"></script>
		<script src="./vendor/vue-router/dist/vue-router.min.js"></script>
		<script src="./vendor/firebase/firebase.js"></script>
		<script src="./js/app.js"></script>
		<link rel="stylesheet" href="./css/style.css" />
	</head>
	<body>
		<div id="app">
			<h1>
				<router-link :to="{name: 'convoHeaderList'}">
					Hello, world
				</router-link>
			</h1>

			<div class="wrap">
				<router-view></router-view>
				<fb-console></fb-console>
			</div>
		</div>

		<template id="convoHeaderList">
			<div class="postlist">
				<ul>
					<li>
						<div class="output">
							<input v-model="newConvoHeader.title" />
						</div>
						<div class="controls">
							<a @click="create()">Add</a>
						</div>
					</li>
					<li v-for="convoHeader in all">
						<h3>
							<router-link :to="{name: 'convoShow', params: {id: convoHeader['.key']}}">{{convoHeader.title}}</router-link>
							({{convoHeader.count || 0}})
						</h3>
						<div class="controls">
							<a @click="destroy(convoHeader)">Delete</a>
						</div>
					</li>
				</ul>
			</div>
		</template>

		<template id="convo">
			<div>
				<h3>{{header.title}}  ({{header.count || 0}})</h3>
				<ul>
					<li v-for="post in all">
						{{post.content}}
					</li>
					<li>
						<input
							v-model="newPost.content" @keydown.enter="createPost()"
						/>
					</li>
				</ul>
			</div>
		</template>

		<template id="fbConsole">
			<div class="console">
				<pre>{{all}}</pre>
			</div>
		</template>

	</body>
</html>
